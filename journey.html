<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Journey</title>

<link rel="stylesheet" href="style.css">
</head>

<body>

<section class="journey">

<h1 class="journey-title">
Our Story â€” Across Every Lifetime ðŸ’™
</h1>

<div class="journey-wrapper">


<!-- SVG LINE -->
<svg class="journey-line"
     width="100%"
     height="100%"
     preserveAspectRatio="none">

    <defs>
        <marker id="arrow"
                markerWidth="12"
                markerHeight="12"
                refX="10"
                refY="6"
                orient="auto">

            <path d="M0,0 L12,6 L0,12 Z"
                  fill="#b6dbf2"></path>

        </marker>
    </defs>

    <path
        stroke="#b6dbf2"
        stroke-width="5"
        fill="none"
        marker-end="url(#arrow)">
    </path>

</svg>



<!-- MEMORY ITEMS -->

<div class="journey-item">
    <img src="timeline/Pre-Historic.png">
    <div class="card">
        <h3>Before history was written</h3>
        <p>I think I would have found you even when the world was still wild.</p>
    </div>
</div>


<div class="journey-item right">
    <img src="timeline/10th Century.png">
    <div class="card">
        <h3>In another kingdom</h3>
        <p>Maybe destiny was already pulling us together.</p>
    </div>
</div>


<div class="journey-item">
    <img src="timeline/Pre_Independence.png">
    <div class="card">
        <h3>When the world was changing</h3>
        <p>Through revolutions and hope â€” side by side.</p>
    </div>
</div>


<div class="journey-item right">
    <img src="timeline/80s.png">
    <div class="card">
        <h3>If we met in another decade</h3>
        <p>I know I still wouldâ€™ve fallen for that smile.</p>
    </div>
</div>


<div class="journey-item">
    <img src="timeline/Modern.png">
    <div class="card">
        <h3>And here we are</h3>
        <p>Every lifetime somehow led me to you.</p>
    </div>
</div>


</div>


<div class="closing">
Still choosing you â€” in this lifetime and the next.
</div>

</section>



<script>

window.addEventListener("load", () => {

    const items = document.querySelectorAll(".journey-item");
    const path = document.querySelector(".journey-line path");
    const wrapper = document.querySelector(".journey-wrapper");
    const svg = document.querySelector(".journey-line");



    function drawPath(){

        const wrapperWidth = wrapper.offsetWidth;
        const wrapperHeight = wrapper.scrollHeight;

        svg.setAttribute("height", wrapperHeight);

        const points = [];

        items.forEach((item, i) => {

            const x = i % 2 === 0
                ? wrapperWidth * 0.35
                : wrapperWidth * 0.65;

            const y = item.offsetTop + item.offsetHeight / 2;

            points.push([x, y]);
        });



        let d = `M ${points[0][0]} ${points[0][1]}`;


        for(let i = 1; i < points.length; i++){

            const [x, y] = points[i];
            const [prevX, prevY] = points[i-1];

            const curveStrength = 180;

            d += `
                C ${prevX} ${prevY + curveStrength},
                  ${x} ${y - curveStrength},
                  ${x} ${y}
            `;
        }


        path.setAttribute("d", d);
    }

    drawPath();


    // Resize-safe (debounced)
    let resizeTimeout;

    window.addEventListener("resize", () => {

        clearTimeout(resizeTimeout);

        resizeTimeout = setTimeout(drawPath, 150);
    });

});

</script>

</body>
</html>
